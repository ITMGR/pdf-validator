<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Logging - PDF Validator Documentation</title>
  

  <link rel="shortcut icon" href="../img/favicon.ico">

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="../css/highlight.css">
  <link href="../override.css" rel="stylesheet">

  
  <script>
    // Current page data
    var mkdocs_page_name = "Logging";
  </script>
  
  <script src="../js/jquery-2.1.1.min.js"></script>
  <script src="../js/modernizr-2.8.3.min.js"></script>
  <script type="text/javascript" src="../js/highlight.pack.js"></script>
  <script src="../js/theme.js"></script> 

  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href=".." class="icon icon-home"> PDF Validator Documentation</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        <ul class="current">
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="..">PDF Validation Service Overview</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../architecture/">Architecture of the Core Service</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../policy/">Validation Policy</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../interface_description/">Interface description</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../deployment/">Deploying PDF Validator Web Service</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../tsl_downloader/">TSL file loading without internet</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../lotl_keystore/">Generating keystore for LOTL validation (optional)</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 current">
        <a class="current" href="./">Logging</a>
        
            <ul>
            
                <li class="toctree-l3"><a href="#logging">Logging</a></li>
                
                    <li><a class="toctree-l4" href="#stdout-appender">STDOUT appender</a></li>
                
                    <li><a class="toctree-l4" href="#file-appender">FILE appender</a></li>
                
                    <li><a class="toctree-l4" href="#syslog-appender">SYSLOG appender</a></li>
                
            
            </ul>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../monitoring/">Monitoring Service</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../testing/">Automation testing</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../issues/">Known Issues</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../appendix/">Appendixes</a>
        
    </li>
<li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="..">PDF Validator Documentation</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="..">Docs</a> &raquo;</li>
    
      
    
    <li>Logging</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h1 id="logging">Logging</h1>
<p>Logging functionality is handled by the <strong>SLF4J</strong> logging facade and on top
of it the <strong>Logback</strong> framework is used. As a result, logging can be
configured via the standard Logback configuration file. By default,
logging works on the <code>INFO</code> level and logs are directed to the system
console as well as a log file.</p>
<p>The logback xml configuration file can be found at:</p>
<pre><code>pdfValidator/pdf-validator-webapp/src/main/resources/logback.xml
</code></pre>

<p>and when compiled the file will reside at </p>
<pre><code>WEB-INF/classes/logback.xml
</code></pre>

<p>within the packaged war. There is also a possibility to set the location
of the default configuration file with a system
property <code>logback.configurationFile</code> as a JVM argument. The value of
this property can be a URL, a resource on the class path or a path to a
file external to the application.</p>
<pre><code class="bash">java -Dlogback.configurationFile=/path/to/config.xml
</code></pre>

<p>In this configuration file there are three appenders: <code>STDOUT</code> (logs to
standard output), <code>FILE</code> (logs to a file) and <code>SYSLOG</code> (logs to syslog
server over the network). To disable certain appender from logging,
commenting out its <code>appender-ref</code> is sufficient, but it is <em>recommended</em>
that the appender itself should also be commented out. For example to
disable <code>SYSLOG</code> appender (which is the default configuration), then one
can use following configuration:</p>
<pre><code class="xml">&lt;!--
&lt;appender name=&quot;SYSLOG&quot; class=&quot;ch.qos.logback.classic.net.SyslogAppender&quot;&gt;
    &lt;syslogHost&gt;enter\_ip\_or\_hostname\_here&lt;/syslogHost&gt;
    &lt;port&gt;514&lt;/port&gt;
    &lt;facility&gt;USER&lt;/facility&gt;
    &lt;filter class=&quot;ch.qos.logback.classic.filter.ThresholdFilter&quot;&gt;
        &lt;level&gt;INFO&lt;/level&gt;
    &lt;/filter&gt;
    &lt;suffixPattern&gt;%-5level %logger{0}:%L \[%thread\] - %msg&lt;/suffixPattern&gt;
&lt;/appender&gt;
--&gt;

&lt;root level=&quot;DEBUG&quot;&gt;
&lt;appender-ref ref=&quot;STDOUT&quot;/&gt;
&lt;appender-ref ref=&quot;FILE&quot;/&gt;
&lt;!--&lt;appender-ref ref=&quot;SYSLOG&quot;/&gt;--&gt;

&lt;/root&gt;
</code></pre>

<p>Logback configuration manual: <a href="http://logback.qos.ch/manual/">http://logback.qos.ch/manual/</a></p>
<h2 id="stdout-appender">STDOUT appender</h2>
<ul>
<li>Default the log level is set to DEBUG</li>
<li>Appender output pattern is: <code>%d{HH:mm:ss.SSS} %-5level %logger{0}:%L [%thread] - %msg%n</code></li>
</ul>
<h2 id="file-appender">FILE appender</h2>
<ul>
<li>Default log level is set to <code>INFO</code></li>
<li>uses RollingFileAppender configured with <code>TimeBasedRollingPolicy</code>.
  Current configuration makes a seperate logfile for each day and each
  file is kept for <em>30 days</em>. </li>
</ul>
<p><em>PS!</em> keep in mind when using relative
  destination file path, then the path is added at the end of the
  currently working directory, i.e. where the application was started.
  (Current day's logfile path: <code>logs/pdf-validator-webapp.log</code>,
  prievious days pattern: </p>
<pre><code>    logs/pdf-validator-webapp.%d{yyyy-MM-dd}.log)
</code></pre>
<ul>
<li>Appender output pattern is:  <code>%d{HH:mm:ss.SSS} %-5level %logger{0}:%L \[%thread\] - %msg%n</code><pre><code>-Dlogback.configurationFile=config.xml
</code></pre>
</li>
</ul>
<h2 id="syslog-appender">SYSLOG appender</h2>
<ul>
<li>Default log level is set to <code>INFO</code></li>
<li>Target's ip/hostname and port are configurable</li>
<li>Syslog messsages' severity is configurable</li>
<li>Syslog messages' payload's timestamp and hostname part are created
  implicitly and the suffixpattern is:  <code>%-5level %logger{0}:%L \[%thread\] - %msg</code></li>
</ul>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../monitoring/" class="btn btn-neutral float-right" title="Monitoring Service"/>Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../lotl_keystore/" class="btn btn-neutral" title="Generating keystore for LOTL validation (optional)"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
	  
        </div>
      </div>

    </section>

  </div>

<div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
      
        <span><a href="../lotl_keystore/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../monitoring/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>

</body>
</html>
